<!DOCTYPE html>
<html lang="es" class="light dark">
	<head>
		<meta charset="UTF-8" />
		<title>IT Solution Comedy</title>

		<script src="js/registraServiceWorker.js"></script>

		<meta name="viewport" content="width=device-width" />
		<meta name="theme-color" content="#fffbfe" />
		<link rel="icon" sizes="32x32" href="favicon.ico" />
		<link rel="manifest" href="site.webmanifest" />
		<script src="ungap/custom-elements.js"></script>

		<script type="module" src="js/configura.js"></script>
		<link rel="stylesheet" href="css/estilos.css" />
		<link rel="stylesheet" href="css/transicion_pestanas.css" />

		<script type="module" src="lib/js/consumeJson.js"></script>
		<script type="module" src="lib/js/submitForm.js"></script>
		<script type="module" src="lib/js/muestraObjeto.js"></script>
		<script type="module" src="lib/js/muestraError.js"></script>

		<script>
			// Obtiene los parámetros de la página.
			const params = new URL(location.href).searchParams;
		</script>
	</head>

	<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />

		<title>Modificar</title>

		<script type="module" src="lib/js/consumeJson.js"></script>
		<script type="module" src="lib/js/submitForm.js"></script>
		<script type="module" src="lib/js/muestraObjeto.js"></script>
		<script type="module" src="lib/js/muestraError.js"></script>
    <meta name="theme-color" content="#fffbfe" />
		<link rel="icon" sizes="32x32" href="favicon.ico" />
		<link rel="manifest" href="site.webmanifest" />
		<script src="ungap/custom-elements.js"></script>

		<script type="module" src="js/configura.js"></script>
		<link rel="stylesheet" href="css/estilos.css" />
		<link rel="stylesheet" href="css/transicion_pestanas.css" />

		<script>
			// Obtiene los parámetros de la página.
			const params = new URL(location.href).searchParams;
		</script>
	</head>

	<body
		onload="if (params.size > 0) {
   consumeJson('srv/pasatiempo.php?' + params)
    .then(respuesta => muestraObjeto(forma, respuesta.body))
    .catch(muestraError)
  }"
	>
		<form
			id="forma"
			onsubmit="submitForm('srv/pasatiempo-modifica.php', event)
    .then(respuesta => location.href = 'index.html')
    .catch(muestraError)"
		>
			<h1>Modificar</h1>

			<input name="id" type="hidden" />

			<p>
				<label>
					Nombre *
					<input name="nombre" value="Cargando&hellip;" />
				</label>
			</p>

			<p>* Obligatorio</p>

			<p>
        <button class="md-filled-button" type="submit">Guardar 
          <span class="material-symbols-outlined">
            save
          </span>

				<button
					type="button"
					onclick="
     if (params.size > 0 && confirm('Confirma la eliminación')) {
      consumeJson('srv/pasatiempo-elimina.php?' + params)
       .then(() => location.href = 'index.html')
       .catch(muestraError)
     }"
      class="md-outline-button" 		
      >
					Eliminar
            <span class="material-symbols-outlined">
              delete
            </span>
				</button>
        
        <button class="md-outline-button" onclick="window.location.href='index.html';"> Cancelar
          <span class="material-symbols-outlined">
            cancel
          </span>
        </button>
			</p>
		</form>
	</body>
</html>

</html>
